C251 COMPILER V5.60.0,  SEEKFREE_WIRELESS                                                  15/11/23  21:36:22  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE SEEKFREE_WIRELESS
OBJECT MODULE PLACED IN .\SEEKFREE_WIRELESS.obj
COMPILER INVOKED BY: D:\keil5\keil5_MDK\keil5_MDK_32\C251\BIN\C251.EXE ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRE
                    -LESS.c INTR2 DEBUG PRINT(.\SEEKFREE_WIRELESS.lst) OBJECT(.\SEEKFREE_WIRELESS.obj) 

stmt  level    source

    1          /********************************************************************************************************
             -*************
    2           * COPYRIGHT NOTICE
    3           * Copyright (c) 2018,Öð·É¿Æ¼¼
    4           * All rights reserved.
    5           * ¼¼ÊõÌÖÂÛQQÈº£ºÒ»Èº£º179029047(ÒÑÂú)  ¶þÈº£º244861897
    6           *
    7           * ÒÔÏÂËùÓÐÄÚÈÝ°æÈ¨¾ùÊôÖð·É¿Æ¼¼ËùÓÐ£¬Î´¾­ÔÊÐí²»µÃÓÃÓÚÉÌÒµÓÃÍ¾£¬
    8           * »¶Ó­¸÷Î»Ê¹ÓÃ²¢´«²¥±¾³ÌÐò£¬ÐÞ¸ÄÄÚÈÝÊ±±ØÐë±£ÁôÖð·É¿Æ¼¼µÄ°æÈ¨ÉùÃ÷¡£
    9           *
   10           * @file                Öð·É¿Æ¼¼ÎÞÏß×ª´®¿ÚÄ£¿é
   11           * @company                     ³É¶¼Öð·É¿Æ¼¼ÓÐÏÞ¹«Ë¾
   12           * @author              Öð·É¿Æ¼¼(QQ3184284598)
   13           * @version             ²é¿´docÄÚversionÎÄ¼þ °æ±¾ËµÃ÷
   14           * @Software            MDK FOR C251 V5.60
   15           * @Target core         STC32G12K128
   16           * @Taobao              https://seekfree.taobao.com/
   17           * @date                2019-03-27
   18           * @note                
   19                                                  ½ÓÏß¶¨Òå£º
   20                                                  ------------------------------------ 
   21                                                      ÎÞÏß×ª´®¿Ú       µ¥Æ¬»ú                        
   22                                                  RX              ²é¿´SEEKFREE_WIRELESS.hÎÄ¼þÖÐµÄWIRELESS_UART_TXºê¶¨Òå
   23                                                  TX              ²é¿´SEEKFREE_WIRELESS.hÎÄ¼þÖÐµÄWIRELESS_UART_RXºê¶¨Òå
   24                                                  RTS             ²é¿´SEEKFREE_WIRELESS.hÎÄ¼þÖÐµÄRTS_PINºê¶¨Òå
   25                                                  CMD             ²é¿´SEEKFREE_WIRELESS.hÎÄ¼þÖÐµÄCMD_PINºê¶¨Òå
   26                                                  ------------------------------------ 
   27           ********************************************************************************************************
             -************/
   28          
   29          
   30          #include "SEEKFREE_WIRELESS.h"
*** ERROR C318 IN LINE 32 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.h: can't open file 'common.h'
*** ERROR C25 IN LINE 54 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.h: syntax error near '*'
*** ERROR C42 IN LINE 54 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.h: 'wireless_uart_send_buff': not in f
             -ormal parameter list
*** WARNING C34 IN LINE 55 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.h: 'uint32': missing declaration spe
             -cifiers
*** ERROR C42 IN LINE 55 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.h: 'uint32': not in formal parameter l
             -ist
*** ERROR C25 IN LINE 55 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.h: syntax error near 'wireless_uart_re
             -ad_buff'
*** ERROR C25 IN LINE 55 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.h: syntax error near '*'
*** ERROR C42 IN LINE 55 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.h: 'wireless_uart_read_buff': not in f
             -ormal parameter list
   31          #include "zf_uart.h"
*** ERROR C318 IN LINE 31 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: can't open file 'zf_uart.h'
   32          #include "zf_fifo.h"
*** ERROR C318 IN LINE 32 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: can't open file 'zf_fifo.h'
   33          
   34          
   35          static  fifo_struct     wireless_uart_fifo;
*** ERROR C29 IN LINE 35 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: formal/parameter has illegal storag
             -e class
*** ERROR C33 IN LINE 35 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'fifo_struct': invalid storage clas
             -s
*** ERROR C25 IN LINE 35 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: syntax error near 'wireless_uart_fi
             -fo'
C251 COMPILER V5.60.0,  SEEKFREE_WIRELESS                                                  15/11/23  21:36:22  PAGE 2   

*** ERROR C33 IN LINE 35 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'wireless_uart_fifo': invalid stora
             -ge class
   36          static  uint8           wireless_uart_buffer[WIRELESS_BUFFER_SIZE];  // Êý¾Ý´æ·ÅÊý×é
*** ERROR C29 IN LINE 36 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: formal/parameter has illegal storag
             -e class
*** ERROR C33 IN LINE 36 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'uint8': invalid storage class
*** ERROR C25 IN LINE 36 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: syntax error near 'wireless_uart_bu
             -ffer'
*** ERROR C33 IN LINE 36 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'wireless_uart_buffer': invalid sto
             -rage class
   37          
   38          static          uint8   wireless_uart_data;
*** ERROR C29 IN LINE 38 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: formal/parameter has illegal storag
             -e class
*** ERROR C33 IN LINE 38 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'uint8': invalid storage class
*** ERROR C25 IN LINE 38 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: syntax error near 'wireless_uart_da
             -ta'
*** ERROR C33 IN LINE 38 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'wireless_uart_data': invalid stora
             -ge class
   39          
   40          //-------------------------------------------------------------------------------------------------------
             -------------
   41          //  @brief      ÎÞÏß×ª´®¿ÚÄ£¿é»Øµ÷º¯Êý
   42          //  @param      NULL
   43          //  @return     void                                    
   44          //  @since      v1.0
   45          //  Sample usage:       
   46          //  @note       
   47          //-------------------------------------------------------------------------------------------------------
             -------------
   48          void wireless_uart_callback(void)
   49          {
*** ERROR C42 IN LINE 49 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'wireless_uart_callback': not in fo
             -rmal parameter list
*** ERROR C25 IN LINE 49 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: syntax error near '{'
   50              //½Óµ½Ò»¸ö×Ö½Úºóµ¥Æ¬»ú½«»á½øÈë´®¿ÚÖÐ¶Ï£¬Í¨¹ýÔÚ´Ë´¦¶ÁÈ¡wireless_uart_data¿ÉÒÔÈ¡×ßÊý¾Ý
   51                  wireless_uart_data = WIRELESS_DATA_BUF;
   52              fifo_write_buffer(&wireless_uart_fifo, &wireless_uart_data, 1);       // ´æÈë FIFO
   53          }
   54          
   55          
   56          
   57          //-------------------------------------------------------------------------------------------------------
             -------------
   58          //  @brief      ÎÞÏß×ª´®¿ÚÄ£¿é ·¢ËÍº¯Êý
   59          //  @param      buff        ÐèÒª·¢ËÍµÄÊý¾ÝµØÖ·
   60          //  @param      len         ·¢ËÍ³¤¶È
   61          //  @return     uint32      Ê£ÓàÎ´·¢ËÍµÄ×Ö½ÚÊý   
   62          //  @since      v1.0
   63          //  Sample usage:       
   64          //  @note       
   65          //-------------------------------------------------------------------------------------------------------
             -------------
   66          uint32 wireless_uart_send_buff(uint8 *buff, uint16 len)
*** ERROR C42 IN LINE 66 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'buff': not in formal parameter lis
             -t
*** ERROR C42 IN LINE 66 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'uint16': not in formal parameter l
             -ist
*** ERROR C25 IN LINE 66 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: syntax error near 'len'
*** ERROR C42 IN LINE 66 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'len': not in formal parameter list
   67          {
   68              while(len>30)
   69              {
   70                  if(WIRELESS_RTS_PIN == 1)  
   71                  {
   72                      return len;//Ä£¿éÃ¦,Èç¹ûÔÊÐíµ±Ç°³ÌÐòÊ¹ÓÃwhileµÈ´ý Ôò¿ÉÒÔÊ¹ÓÃºóÃæ×¢ÊÍµÄwhileµÈ´ýÓï¾äÌæ»»±¾ifÓï
C251 COMPILER V5.60.0,  SEEKFREE_WIRELESS                                                  15/11/23  21:36:22  PAGE 3   

             -¾ä
   73                  }
   74                  //while(RTS_PIN);  //Èç¹ûRTSÎªµÍµçÆ½£¬Ôò¼ÌÐø·¢ËÍÊý¾Ý
   75                  uart_putbuff(WIRELESS_UART,buff,30);
   76          
   77                  buff += 30; //µØÖ·Æ«ÒÆ
   78                  len -= 30;//ÊýÁ¿
   79              }
   80              
   81              if(WIRELESS_RTS_PIN == 1)  
   82              {
   83                  return len;//Ä£¿éÃ¦,Èç¹ûÔÊÐíµ±Ç°³ÌÐòÊ¹ÓÃwhileµÈ´ý Ôò¿ÉÒÔÊ¹ÓÃºóÃæ×¢ÊÍµÄwhileµÈ´ýÓï¾äÌæ»»±¾ifÓï¾ä
   84              }
   85              //while(WIRELESS_RTS_PIN);  //Èç¹ûRTSÎªµÍµçÆ½£¬Ôò¼ÌÐø·¢ËÍÊý¾Ý
   86              uart_putbuff(WIRELESS_UART,buff,len);//·¢ËÍ×îºóµÄÊý¾Ý
   87              
   88              return 0;
   89          }
   90          
   91          
   92          
   93          //-------------------------------------------------------------------------------------------------------
             -------------
   94          //  @brief      ÎÞÏß×ª´®¿ÚÄ£¿é ¶ÁÈ¡º¯Êý
   95          //  @param      buff            ´æ´¢µÄÊý¾ÝµØÖ·
   96          //  @param      len             ³¤¶È
   97          //  @return     uint32          Êµ¼Ê¶ÁÈ¡×Ö½ÚÊý
   98          //  Sample usage:
   99          //-------------------------------------------------------------------------------------------------------
             -------------
  100          uint32 wireless_uart_read_buff (uint8 *buff, uint32 len)
*** ERROR C42 IN LINE 100 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'buff': not in formal parameter li
             -st
*** ERROR C42 IN LINE 100 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'uint32': not in formal parameter 
             -list
*** ERROR C25 IN LINE 100 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: syntax error near 'len'
*** ERROR C42 IN LINE 100 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: 'len': not in formal parameter lis
             -t
  101          {
  102              uint32 data_len = len;
  103              fifo_read_buffer(&wireless_uart_fifo, buff, &data_len, FIFO_READ_AND_CLEAN);
  104              return data_len;
  105          }
  106          
  107          
  108          
  109          
  110          //-------------------------------------------------------------------------------------------------------
             -------------
  111          //  @brief      ÎÞÏß×ª ´®¿ÚÄ£¿é³õÊ¼»¯
  112          //  @param      NULL
  113          //  @return     void                                    
  114          //  @since      v1.0
  115          //  Sample usage:       
  116          //  @note       
  117          //-------------------------------------------------------------------------------------------------------
             -------------
  118          void wireless_uart_init(void)
  119          {
  120              WIRELESS_RTS_PIN = 0;
  121              wireless_type = WIRELESS_SI24R1;
  122              //±¾º¯ÊýÊ¹ÓÃµÄ²¨ÌØÂÊÎª115200£¬ÎªÎÞÏß×ª´®¿ÚÄ£¿éµÄÄ¬ÈÏ²¨ÌØÂÊ£¬ÈçÐèÆäËû²¨ÌØÂÊÇë×ÔÐÐÅäÖÃÄ£¿é²¢ÐÞ¸Ä´®¿ÚµÄ²
             -¨ÌØÂÊ
  123              fifo_init(&wireless_uart_fifo, wireless_uart_buffer, WIRELESS_BUFFER_SIZE);
  124                  uart_init(WIRELESS_UART, WIRELESS_UART_RX_PIN, WIRELESS_UART_TX_PIN, WIRELESS_UART_BAUD, WIRELESS_TIMER_
             -N);        //³õÊ¼»¯´®¿Ú    
C251 COMPILER V5.60.0,  SEEKFREE_WIRELESS                                                  15/11/23  21:36:22  PAGE 4   

  125              
  126          }
*** ERROR C7 IN LINE 126 OF ..\..\Libraries\seekfree_peripheral\SEEKFREE_WIRELESS.c: compilation aborted

C251 COMPILATION COMPLETE.  1 WARNING(S),  32 ERROR(S)
